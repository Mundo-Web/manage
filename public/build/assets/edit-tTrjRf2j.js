import{m as y,j as e,L as C}from"./app-CbtLL99F.js";import{A as S}from"./app-layout-BEloh4Yn.js";import{B as x}from"./app-logo-icon-DH9s8jq-.js";import{L as l,I as d,a as o}from"./label-DzyIuy8E.js";import{S as h,a as p,b as g,c as j,d as u}from"./select-3O-olhEm.js";import{C as F,a as P,b as E,c as L,d as D}from"./card-CpckoCXN.js";import"./index-DthCIVhp.js";import"./index-DaId9-qw.js";import"./check-BtxITMoQ.js";function z({solicitud:s,estados:b,prioridades:v}){var m;const f=[{title:"Solicitudes",href:"/solicitudes"},{title:`Editar: ${s.nombre_cliente}`,href:`/solicitudes/${s.id}/edit`}],{data:n,setData:r,post:N,processing:c,errors:t}=y({nombre_cliente:s.nombre_cliente,nombre_landing:s.nombre_landing,nombre_producto:s.nombre_producto,estado:s.estado,prioridad:s.prioridad,archivo_pdf:null,logo:null,_method:"PUT"}),_=a=>{a.preventDefault(),N(route("solicitudes.update",s.id),{forceFormData:!0})};return e.jsxs(S,{breadcrumbs:f,children:[e.jsx(C,{title:`Editar Solicitud - ${s.nombre_cliente}`}),e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs(F,{children:[e.jsxs(P,{children:[e.jsx(E,{children:"Editar Solicitud de Landing Page"}),e.jsxs(L,{children:["Modifica los datos de la solicitud de ",s.nombre_cliente,"."]})]}),e.jsx(D,{children:e.jsxs("form",{onSubmit:_,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Información del Cliente"}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"nombre_cliente",children:"Nombre del Cliente *"}),e.jsx(d,{id:"nombre_cliente",type:"text",value:n.nombre_cliente,className:"mt-1",onChange:a=>r("nombre_cliente",a.target.value),placeholder:"Ej: Empresa ABC S.A."}),e.jsx(o,{message:t.nombre_cliente,className:"mt-2"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Información del Proyecto"}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"nombre_landing",children:"Nombre de la Landing Page *"}),e.jsx(d,{id:"nombre_landing",type:"text",value:n.nombre_landing,className:"mt-1",onChange:a=>r("nombre_landing",a.target.value),placeholder:"Ej: Landing Page Promocional"}),e.jsx(o,{message:t.nombre_landing,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"nombre_producto",children:"Nombre del Producto *"}),e.jsx(d,{id:"nombre_producto",type:"text",value:n.nombre_producto,className:"mt-1",onChange:a=>r("nombre_producto",a.target.value),placeholder:"Ej: Software de Gestión"}),e.jsx(o,{message:t.nombre_producto,className:"mt-2"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"estado",children:"Estado *"}),e.jsxs(h,{value:n.estado,onValueChange:a=>r("estado",a),children:[e.jsx(p,{className:"mt-1",children:e.jsx(g,{placeholder:"Seleccionar estado"})}),e.jsx(j,{children:b.map(a=>e.jsx(u,{value:a,children:a.replace("_"," ")},a))})]}),e.jsx(o,{message:t.estado,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"prioridad",children:"Prioridad *"}),e.jsxs(h,{value:n.prioridad,onValueChange:a=>r("prioridad",a),children:[e.jsx(p,{className:"mt-1",children:e.jsx(g,{placeholder:"Seleccionar prioridad"})}),e.jsx(j,{children:v.map(a=>e.jsx(u,{value:a,children:a},a))})]}),e.jsx(o,{message:t.prioridad,className:"mt-2"})]})]})]}),(s.archivo_pdf||s.logo)&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Archivos Actuales"}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[s.archivo_pdf&&e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"PDF actual:"}),e.jsx("a",{href:`/storage/${s.archivo_pdf}`,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-800 text-sm",children:"Ver archivo"})]}),s.logo&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Logo actual:"}),e.jsx("a",{href:`/storage/${s.logo}`,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-800 text-sm",children:"Ver imagen"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Reemplazar Archivos"}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"archivo_pdf",children:"Nuevo Archivo PDF"}),e.jsx(d,{id:"archivo_pdf",type:"file",accept:".pdf",className:"mt-1",onChange:a=>{var i;return r("archivo_pdf",((i=a.target.files)==null?void 0:i[0])||null)}}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Opcional. Formato PDF, máximo 10MB. Solo subir si quieres reemplazar el archivo actual."}),e.jsx(o,{message:t.archivo_pdf,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"logo",children:"Nuevo Logo"}),e.jsx(d,{id:"logo",type:"file",accept:"image/*",className:"mt-1",onChange:a=>{var i;return r("logo",((i=a.target.files)==null?void 0:i[0])||null)}}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Opcional. Formatos: JPG, PNG, SVG. Máximo 5MB. Solo subir si quieres reemplazar el logo actual."}),e.jsx(o,{message:t.logo,className:"mt-2"})]})]}),e.jsx("div",{className:"bg-blue-50 p-4 rounded-md",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Creado por:"})," ",((m=s.user)==null?void 0:m.name)||"Usuario desconocido"," ",e.jsx("br",{}),e.jsx("strong",{children:"Fecha de creación:"})," ",new Date(s.fecha_creacion).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]})}),e.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[e.jsx(x,{type:"button",variant:"outline",onClick:()=>window.history.back(),children:"Cancelar"}),e.jsx(x,{type:"submit",disabled:c,className:"bg-indigo-600 hover:bg-indigo-700",children:c?"Guardando...":"Guardar Cambios"})]})]})})]})})]})}export{z as default};
