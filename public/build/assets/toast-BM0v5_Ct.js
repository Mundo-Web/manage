import{a as U,S as Qe,c as X,b as Ne,B as Q}from"./app-logo-icon-DH9s8jq-.js";import{j as o,r as a,m as et,S as he,R as K,a as tt}from"./app-CbtLL99F.js";import{L as Y,I as ne,a as G}from"./label-DzyIuy8E.js";import{S as rt,a as ot,b as nt,c as st,d as at}from"./select-3O-olhEm.js";import{D as it,b as ct,g as lt,c as dt,d as ut,e as ft}from"./dialog-BpmYnMXk.js";import{F as xe,X as ae}from"./app-layout-BEloh4Yn.js";import{C as pt}from"./circle-check-big-B94Ihvg_.js";import{r as Te,R as mt}from"./index-DthCIVhp.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],kr=U("Ellipsis",gt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xt=U("Eye",ht);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],Mr=U("Filter",vt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],ve=U("Image",bt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],Fr=U("PenLine",yt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Lr=U("Plus",wt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M18.944 12.33a1 1 0 0 0 0-.66 7.5 7.5 0 0 0-13.888 0 1 1 0 0 0 0 .66 7.5 7.5 0 0 0 13.888 0",key:"11ak4c"}]],Nt=U("ScanEye",Et);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Or=U("Trash2",Tt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Ct=U("Upload",Pt),jt=Ne("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-auto",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function $r({className:t,variant:r,asChild:e=!1,...n}){const s=e?Qe:"span";return o.jsx(s,{"data-slot":"badge",className:X(jt({variant:r}),t),...n})}function Vr({open:t,onOpenChange:r,solicitud:e,estados:n,prioridades:s,onSuccess:i}){const d=!!e,[u,f]=a.useState(null),[c,p]=a.useState(null),[b,w]=a.useState(!1),[P,j]=a.useState(!1),h=a.useRef(null),m=a.useRef(null),{data:g,setData:x,post:N,processing:T,errors:C,reset:_,clearErrors:E}=et({nombre_cliente:(e==null?void 0:e.nombre_cliente)||"",nombre_landing:(e==null?void 0:e.nombre_landing)||"",nombre_producto:(e==null?void 0:e.nombre_producto)||"",estado:(e==null?void 0:e.estado)||"pendiente",prioridad:(e==null?void 0:e.prioridad)||"media",archivo_pdf:null,logo:null,_method:d?"PUT":"POST"});a.useEffect(()=>{t&&e?x({nombre_cliente:e.nombre_cliente,nombre_landing:e.nombre_landing,nombre_producto:e.nombre_producto,estado:e.estado||"pendiente",prioridad:e.prioridad,archivo_pdf:null,logo:null,_method:"PUT"}):t&&!e&&(_(),x(l=>({...l,_method:"POST"}))),t&&E()},[t,e,x,_,E]),a.useEffect(()=>{let l;if(!t){const v=()=>{requestAnimationFrame(()=>{try{["[data-radix-popper-content-wrapper]","[data-radix-dropdown-menu-content]","[data-radix-select-content]","[data-radix-portal]",".radix-popper"].forEach(R=>{document.querySelectorAll(R).forEach(V=>{try{document.contains(V)&&V.parentElement&&V.parentElement.removeChild(V)}catch{}})}),Object.assign(document.body.style,{overflow:"",paddingRight:"",pointerEvents:"",position:"",top:""}),document.querySelectorAll("[inert]").forEach(R=>{try{R.removeAttribute("inert")}catch{}})}catch{}})};v(),l=setTimeout(v,100)}return()=>{l&&clearTimeout(l)}},[t]);const A=(l,v)=>{if(l)if(v==="pdf")x("archivo_pdf",l),f(`${l.name} (${M(l.size)})`);else{x("logo",l);const S=new FileReader;S.onload=R=>{var B;p((B=R.target)==null?void 0:B.result)},S.readAsDataURL(l)}},M=l=>{if(l===0)return"0 Bytes";const v=1024,S=["Bytes","KB","MB","GB"],R=Math.floor(Math.log(l)/Math.log(v));return parseFloat((l/Math.pow(v,R)).toFixed(2))+" "+S[R]},F=(l,v)=>{l.preventDefault(),l.stopPropagation(),v==="pdf"?w(!1):j(!1);const R=Array.from(l.dataTransfer.files)[0];R&&(v==="pdf"?R.type==="application/pdf"?R.size<=10*1024*1024?A(R,"pdf"):alert("El archivo PDF debe ser menor a 10MB"):alert("Solo se permiten archivos PDF"):v==="logo"&&(R.type.startsWith("image/")?R.size<=5*1024*1024?A(R,"logo"):alert("La imagen debe ser menor a 5MB"):alert("Solo se permiten imágenes")))},$=l=>{l.preventDefault(),l.stopPropagation()},L=(l,v)=>{l.preventDefault(),l.stopPropagation(),v==="pdf"?w(!0):j(!0)},W=(l,v)=>{l.preventDefault(),l.stopPropagation(),v==="pdf"?w(!1):j(!1)},y=l=>{l==="pdf"?(x("archivo_pdf",null),f(null)):(x("logo",null),p(null))},I=l=>{if(l.preventDefault(),d){if(!(e!=null&&e.id)){console.error("No se puede editar: solicitud ID no encontrado",e);return}if(!g.archivo_pdf&&!g.logo){const v={nombre_cliente:g.nombre_cliente,nombre_landing:g.nombre_landing,nombre_producto:g.nombre_producto,prioridad:g.prioridad};console.log("Enviando datos de actualización (objeto):",{...v,solicitud_id:e==null?void 0:e.id,url:route("solicitudes.update",e==null?void 0:e.id)}),he.put(route("solicitudes.update",e.id),v,{onSuccess:S=>{console.log("Update successful:",S),D(),i==null||i()},onError:S=>{console.error("Update errors:",S)},onFinish:()=>{console.log("Update request finished")}})}else{const v=new FormData;v.append("nombre_cliente",g.nombre_cliente),v.append("nombre_landing",g.nombre_landing),v.append("nombre_producto",g.nombre_producto),v.append("prioridad",g.prioridad),g.archivo_pdf&&v.append("archivo_pdf",g.archivo_pdf),g.logo&&v.append("logo",g.logo),console.log("Enviando datos de actualización (FormData):",{nombre_cliente:g.nombre_cliente,nombre_landing:g.nombre_landing,nombre_producto:g.nombre_producto,prioridad:g.prioridad,solicitud_id:e==null?void 0:e.id,url:route("solicitudes.update",e==null?void 0:e.id),hasFiles:!!(g.archivo_pdf||g.logo)}),he.post(route("solicitudes.update",e.id),v,{forceFormData:!0,headers:{"X-HTTP-Method-Override":"PUT"},onSuccess:S=>{console.log("Update successful:",S),D(),i==null||i()},onError:S=>{console.error("Update errors:",S)},onFinish:()=>{console.log("Update request finished")}})}}else N(route("solicitudes.store"),{forceFormData:!0,onSuccess:()=>{D(),i==null||i()}})},D=()=>{_(),E(),f(null),p(null),w(!1),j(!1),requestAnimationFrame(()=>{r(!1)})},z=l=>{l?r(l):D()};return o.jsx(it,{open:t,onOpenChange:z,children:o.jsxs(ct,{className:"max-w-3xl min-w-2xl max-h-[90vh] flex flex-col bg-gradient-to-br from-white/90 to-blue-50/90 backdrop-blur-xl rounded-3xl border border-white/50 shadow-2xl shadow-blue-200/30 scrollbar-thin scrollbar-track-blue-50/30 scrollbar-thumb-blue-300/50 hover:scrollbar-thumb-blue-400/70 scrollbar-thumb-rounded-full scrollbar-track-rounded-full z-50",onEscapeKeyDown:D,onPointerDownOutside:D,onInteractOutside:D,children:[o.jsxs(lt,{className:"pb-6 flex-shrink-0",children:[o.jsx(dt,{className:"text-2xl font-bold bg-gradient-to-r from-gray-800 to-gray-700 bg-clip-text text-transparent",children:d?"Editar Solicitud":"Nueva Solicitud"}),o.jsx(ut,{className:"text-gray-600 font-medium",children:d?`Modifica los datos de la solicitud de ${e==null?void 0:e.nombre_cliente}.`:"Completa el formulario para crear una nueva solicitud de landing page."})]}),o.jsx("div",{className:"flex-1 py-4 overflow-x-hidden overflow-y-auto scrollbar-thin scrollbar-track-transparent scrollbar-thumb-blue-200/40 hover:scrollbar-thumb-blue-300/60 scrollbar-thumb-rounded-full scrollbar-track-rounded-full pr-3",children:o.jsxs("form",{onSubmit:I,className:"h-full flex flex-col",children:[o.jsxs("div",{className:"flex-1 space-y-8 pr-2",children:[o.jsxs("div",{className:"space-y-6 bg-gradient-to-br from-blue-50/80 to-indigo-50/80 rounded-2xl p-6 border border-blue-200/50 shadow-lg shadow-blue-100/50",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 pb-2 border-b border-blue-200/60",children:"Información del Cliente"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Y,{htmlFor:"nombre_cliente",className:"text-sm font-bold text-gray-700",children:"Nombre del Cliente *"}),o.jsx(ne,{id:"nombre_cliente",type:"text",value:g.nombre_cliente,onChange:l=>x("nombre_cliente",l.target.value),placeholder:"Ej: Empresa ABC S.A.",className:"transition-all duration-300 focus:ring-2 focus:ring-blue-400 bg-white/80 backdrop-blur-sm rounded-xl border border-blue-200/50 shadow-inner font-medium"}),o.jsx(G,{message:C.nombre_cliente})]})]}),o.jsxs("div",{className:"space-y-6 bg-gradient-to-br from-purple-50/80 to-pink-50/80 rounded-2xl p-6 border border-purple-200/50 shadow-lg shadow-purple-100/50",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 pb-2 border-b border-purple-200/60",children:"Información del Proyecto"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Y,{htmlFor:"nombre_landing",className:"text-sm font-bold text-gray-700",children:"Nombre de la Landing Page *"}),o.jsx(ne,{id:"nombre_landing",type:"text",value:g.nombre_landing,onChange:l=>x("nombre_landing",l.target.value),placeholder:"Ej: Landing Page Promocional",className:"transition-all duration-300 focus:ring-2 focus:ring-purple-400 bg-white/80 backdrop-blur-sm rounded-xl border border-purple-200/50 shadow-inner font-medium"}),o.jsx(G,{message:C.nombre_landing})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Y,{htmlFor:"nombre_producto",className:"text-sm font-bold text-gray-700",children:"Nombre del Producto *"}),o.jsx(ne,{id:"nombre_producto",type:"text",value:g.nombre_producto,onChange:l=>x("nombre_producto",l.target.value),placeholder:"Ej: Software de Gestión",className:"transition-all duration-300 focus:ring-2 focus:ring-purple-400 bg-white/80 backdrop-blur-sm rounded-xl border border-purple-200/50 shadow-inner font-medium"}),o.jsx(G,{message:C.nombre_producto})]})]}),o.jsx("div",{className:"grid grid-cols-1  gap-6",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx(Y,{htmlFor:"prioridad",className:"text-sm font-bold text-gray-700",children:"Prioridad *"}),o.jsxs(rt,{value:g.prioridad,onValueChange:l=>x("prioridad",l),children:[o.jsx(ot,{className:"transition-all duration-300 focus:ring-2 focus:ring-purple-400 bg-white/80 backdrop-blur-sm rounded-xl border border-purple-200/50 shadow-inner font-medium",children:o.jsx(nt,{placeholder:"Seleccionar prioridad"})}),o.jsx(st,{className:"bg-white/90 backdrop-blur-lg rounded-xl shadow-xl border border-white/50",children:s.map(l=>o.jsx(at,{value:l,className:"rounded-lg hover:bg-purple-100/80 font-medium",children:o.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-xl text-xs font-bold ${l==="alta"?"bg-gradient-to-r from-red-200 to-red-300 text-red-900":l==="media"?"bg-gradient-to-r from-orange-200 to-orange-300 text-orange-900":"bg-gradient-to-r from-green-200 to-green-300 text-green-900"}`,children:l})},l))})]}),o.jsx(G,{message:C.prioridad})]})})]}),d&&((e==null?void 0:e.archivo_pdf)||(e==null?void 0:e.logo))&&o.jsxs("div",{className:"space-y-6 bg-gradient-to-br from-gray-50/80 to-slate-50/80 rounded-2xl p-6 border border-gray-200/50 shadow-lg shadow-gray-100/50",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 pb-2 border-b border-gray-200/60",children:"Archivos Actuales"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.archivo_pdf&&o.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/80 backdrop-blur-sm rounded-xl border border-gray-200/50 shadow-inner",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-blue-500 rounded-xl flex items-center justify-center shadow-lg",children:o.jsx(xe,{className:"h-5 w-5 text-white"})}),o.jsx("span",{className:"text-sm font-bold text-gray-700",children:"PDF actual"})]}),o.jsx("a",{href:`/storage/${e.archivo_pdf}`,target:"_blank",rel:"noopener noreferrer",className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white px-2 py-2 rounded-xl text-sm font-bold shadow-lg transition-all duration-300 transform hover:scale-105",children:o.jsx(xt,{})})]}),e.logo&&o.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/80 backdrop-blur-sm rounded-xl border border-gray-200/50 shadow-inner",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-400 to-green-500 rounded-xl flex items-center justify-center shadow-lg",children:o.jsx(ve,{className:"h-5 w-5 text-white"})}),o.jsx("span",{className:"text-sm font-bold text-gray-700",children:"Logo actual"})]}),o.jsx("a",{href:`/storage/${e.logo}`,target:"_blank",rel:"noopener noreferrer",className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white px-2 py-2 rounded-xl text-sm font-bold shadow-lg transition-all duration-300 transform hover:scale-105",children:o.jsx(Nt,{})})]})]})]}),o.jsxs("div",{className:"space-y-6 bg-gradient-to-br from-green-50/80 to-teal-50/80 rounded-2xl p-6 border border-green-200/50 shadow-lg shadow-green-100/50",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 pb-2 border-b border-green-200/60",children:d?"Reemplazar Archivos":"Archivos"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Y,{htmlFor:"archivo_pdf",className:"text-sm font-bold text-gray-700",children:[d?"Nuevo ":"","Archivo PDF"]}),o.jsxs("div",{className:`relative border-2 border-dashed rounded-2xl p-6 transition-all duration-300 cursor-pointer bg-white/80 backdrop-blur-sm shadow-inner ${b?"border-green-400 bg-green-50/80 scale-105":"border-green-300/50 hover:border-green-400 hover:bg-green-50/60"}`,onDrop:l=>F(l,"pdf"),onDragOver:$,onDragEnter:l=>L(l,"pdf"),onDragLeave:l=>W(l,"pdf"),onClick:()=>{var l;return(l=h.current)==null?void 0:l.click()},children:[o.jsx("input",{ref:h,id:"archivo_pdf",type:"file",accept:".pdf",onChange:l=>{var S;const v=(S=l.target.files)==null?void 0:S[0];v&&(v.type==="application/pdf"?v.size<=10*1024*1024?A(v,"pdf"):(alert("El archivo PDF debe ser menor a 10MB"),l.target.value=""):(alert("Solo se permiten archivos PDF"),l.target.value=""))},className:"hidden"}),u?o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-400 to-red-500 rounded-xl flex items-center justify-center shadow-lg",children:o.jsx(xe,{className:"h-6 w-6 text-white"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-bold text-gray-800",children:u}),o.jsx("p",{className:"text-xs text-green-600 font-medium",children:"✓ Archivo seleccionado"})]})]}),o.jsx(Q,{type:"button",variant:"ghost",size:"sm",onClick:l=>{l.stopPropagation(),y("pdf")},className:"text-red-500 hover:text-red-700 hover:bg-red-100/80 rounded-xl",children:o.jsx(ae,{className:"h-4 w-4"})})]}):o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-400 to-green-500 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:o.jsx(Ct,{className:"h-8 w-8 text-white"})}),o.jsx("p",{className:"text-sm font-bold text-gray-700 mb-2",children:"Arrastra tu archivo PDF aquí"}),o.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"o haz clic para seleccionar"}),o.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 text-white px-4 py-2 rounded-xl text-xs font-bold inline-block shadow-lg",children:"Subir PDF"})]})]}),o.jsxs("p",{className:"text-xs text-gray-600 font-medium",children:["Opcional. Formato PDF, máximo 10MB.",d&&" Solo subir si quieres reemplazar el archivo actual."]}),o.jsx(G,{message:C.archivo_pdf})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Y,{htmlFor:"logo",className:"text-sm font-bold text-gray-700",children:[d?"Nuevo ":"","Logo"]}),o.jsxs("div",{className:`relative border-2 border-dashed rounded-2xl p-6 transition-all duration-300 cursor-pointer bg-white/80 backdrop-blur-sm shadow-inner ${P?"border-green-400 bg-green-50/80 scale-105":"border-green-300/50 hover:border-green-400 hover:bg-green-50/60"}`,onDrop:l=>F(l,"logo"),onDragOver:$,onDragEnter:l=>L(l,"logo"),onDragLeave:l=>W(l,"logo"),onClick:()=>{var l;return(l=m.current)==null?void 0:l.click()},children:[o.jsx("input",{ref:m,id:"logo",type:"file",accept:"image/*",onChange:l=>{var S;const v=(S=l.target.files)==null?void 0:S[0];v&&(v.type.startsWith("image/")?v.size<=5*1024*1024?A(v,"logo"):(alert("La imagen debe ser menor a 5MB"),l.target.value=""):(alert("Solo se permiten imágenes"),l.target.value=""))},className:"hidden"}),c?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:c,alt:"Logo preview",className:"w-full h-32 object-cover rounded-xl shadow-lg"}),o.jsx(Q,{type:"button",variant:"ghost",size:"sm",onClick:l=>{l.stopPropagation(),y("logo")},className:"absolute top-2 right-2 text-white bg-red-500/80 hover:bg-red-600/90 rounded-xl backdrop-blur-sm",children:o.jsx(ae,{className:"h-4 w-4"})})]}),o.jsx("div",{className:"flex items-center justify-center",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(pt,{className:"h-4 w-4 text-green-600"}),o.jsx("p",{className:"text-xs text-green-600 font-bold",children:"Imagen seleccionada"})]})})]}):o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-400 to-green-500 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:o.jsx(ve,{className:"h-8 w-8 text-white"})}),o.jsx("p",{className:"text-sm font-bold text-gray-700 mb-2",children:"Arrastra tu logo aquí"}),o.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"o haz clic para seleccionar"}),o.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 text-white px-4 py-2 rounded-xl text-xs font-bold inline-block shadow-lg",children:"Subir Imagen"})]})]}),o.jsxs("p",{className:"text-xs text-gray-600 font-medium",children:["Opcional. Formatos: JPG, PNG, SVG. Máximo 5MB.",d&&" Solo subir si quieres reemplazar el logo actual."]}),o.jsx(G,{message:C.logo})]})]})]}),d&&(e==null?void 0:e.user)&&o.jsx("div",{className:"p-6 bg-gradient-to-br from-blue-50/80 to-indigo-50/80 rounded-2xl border border-blue-200/50 shadow-lg shadow-blue-100/50",children:o.jsxs("p",{className:"text-sm text-blue-800 font-semibold",children:[o.jsx("strong",{children:"Creado por:"})," ",e.user.name," ",o.jsx("br",{}),o.jsx("strong",{children:"Fecha de creación:"})," ",new Date(e.fecha_creacion).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]})})]}),o.jsxs(ft,{className:"gap-4 pt-8 border-t border-gray-200/60 flex-shrink-0 mt-6 pr-2",children:[o.jsx(Q,{type:"button",variant:"outline",onClick:D,disabled:T,className:"transition-all duration-300 bg-gradient-to-br from-gray-100 to-gray-200 hover:from-gray-200 hover:to-gray-300 border-0 rounded-xl shadow-lg font-bold text-gray-700 transform hover:scale-105",children:"Cancelar"}),o.jsx(Q,{type:"submit",disabled:T,className:"bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 transition-all duration-300 shadow-xl hover:shadow-2xl border-0 rounded-xl font-bold transform hover:scale-105",children:T?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),o.jsx("span",{children:d?"Guardando...":"Creando..."})]}):d?"Guardar Cambios":"Crear Solicitud"})]})]})})]})})}function Ur(){const[t,r]=a.useState([]),e=a.useCallback(({title:s,description:i,variant:d="default"})=>{const u=Math.random().toString(36).substr(2,9),f={id:u,title:s,description:i,variant:d};return r(c=>[...c,f]),setTimeout(()=>{r(c=>c.filter(p=>p.id!==u))},5e3),u},[]),n=a.useCallback(s=>{r(i=>i.filter(d=>d.id!==s))},[]);return{toasts:t,toast:e,dismiss:n}}function k(t,r,{checkForDefaultPrevented:e=!0}={}){return function(s){if(t==null||t(s),e===!1||!s.defaultPrevented)return r==null?void 0:r(s)}}function be(t,r){if(typeof t=="function")return t(r);t!=null&&(t.current=r)}function Pe(...t){return r=>{let e=!1;const n=t.map(s=>{const i=be(s,r);return!e&&typeof i=="function"&&(e=!0),i});if(e)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():be(t[s],null)}}}}function H(...t){return a.useCallback(Pe(...t),t)}function Ce(t,r=[]){let e=[];function n(i,d){const u=a.createContext(d),f=e.length;e=[...e,d];const c=b=>{var g;const{scope:w,children:P,...j}=b,h=((g=w==null?void 0:w[t])==null?void 0:g[f])||u,m=a.useMemo(()=>j,Object.values(j));return o.jsx(h.Provider,{value:m,children:P})};c.displayName=i+"Provider";function p(b,w){var h;const P=((h=w==null?void 0:w[t])==null?void 0:h[f])||u,j=a.useContext(P);if(j)return j;if(d!==void 0)return d;throw new Error(`\`${b}\` must be used within \`${i}\``)}return[c,p]}const s=()=>{const i=e.map(d=>a.createContext(d));return function(u){const f=(u==null?void 0:u[t])||i;return a.useMemo(()=>({[`__scope${t}`]:{...u,[t]:f}}),[u,f])}};return s.scopeName=t,[n,_t(s,...r)]}function _t(...t){const r=t[0];if(t.length===1)return r;const e=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const d=n.reduce((u,{useScope:f,scopeName:c})=>{const b=f(i)[`__scope${c}`];return{...u,...b}},{});return a.useMemo(()=>({[`__scope${r.scopeName}`]:d}),[d])}};return e.scopeName=r.scopeName,e}function ie(t){const r=St(t),e=a.forwardRef((n,s)=>{const{children:i,...d}=n,u=a.Children.toArray(i),f=u.find(Dt);if(f){const c=f.props.children,p=u.map(b=>b===f?a.Children.count(c)>1?a.Children.only(null):a.isValidElement(c)?c.props.children:null:b);return o.jsx(r,{...d,ref:s,children:a.isValidElement(c)?a.cloneElement(c,void 0,p):null})}return o.jsx(r,{...d,ref:s,children:i})});return e.displayName=`${t}.Slot`,e}function St(t){const r=a.forwardRef((e,n)=>{const{children:s,...i}=e;if(a.isValidElement(s)){const d=It(s),u=At(i,s.props);return s.type!==a.Fragment&&(u.ref=n?Pe(n,d):d),a.cloneElement(s,u)}return a.Children.count(s)>1?a.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var Rt=Symbol("radix.slottable");function Dt(t){return a.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Rt}function At(t,r){const e={...r};for(const n in r){const s=t[n],i=r[n];/^on[A-Z]/.test(n)?s&&i?e[n]=(...u)=>{const f=i(...u);return s(...u),f}:s&&(e[n]=s):n==="style"?e[n]={...s,...i}:n==="className"&&(e[n]=[s,i].filter(Boolean).join(" "))}return{...t,...e}}function It(t){var n,s;let r=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,e=r&&"isReactWarning"in r&&r.isReactWarning;return e?t.ref:(r=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,e=r&&"isReactWarning"in r&&r.isReactWarning,e?t.props.ref:t.props.ref||t.ref)}function kt(t){const r=t+"CollectionProvider",[e,n]=Ce(r),[s,i]=e(r,{collectionRef:{current:null},itemMap:new Map}),d=h=>{const{scope:m,children:g}=h,x=K.useRef(null),N=K.useRef(new Map).current;return o.jsx(s,{scope:m,itemMap:N,collectionRef:x,children:g})};d.displayName=r;const u=t+"CollectionSlot",f=ie(u),c=K.forwardRef((h,m)=>{const{scope:g,children:x}=h,N=i(u,g),T=H(m,N.collectionRef);return o.jsx(f,{ref:T,children:x})});c.displayName=u;const p=t+"CollectionItemSlot",b="data-radix-collection-item",w=ie(p),P=K.forwardRef((h,m)=>{const{scope:g,children:x,...N}=h,T=K.useRef(null),C=H(m,T),_=i(p,g);return K.useEffect(()=>(_.itemMap.set(T,{ref:T,...N}),()=>void _.itemMap.delete(T))),o.jsx(w,{[b]:"",ref:C,children:x})});P.displayName=p;function j(h){const m=i(t+"CollectionConsumer",h);return K.useCallback(()=>{const x=m.collectionRef.current;if(!x)return[];const N=Array.from(x.querySelectorAll(`[${b}]`));return Array.from(m.itemMap.values()).sort((_,E)=>N.indexOf(_.ref.current)-N.indexOf(E.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:d,Slot:c,ItemSlot:P},j,n]}var Mt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],O=Mt.reduce((t,r)=>{const e=ie(`Primitive.${r}`),n=a.forwardRef((s,i)=>{const{asChild:d,...u}=s,f=d?e:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(f,{...u,ref:i})});return n.displayName=`Primitive.${r}`,{...t,[r]:n}},{});function je(t,r){t&&Te.flushSync(()=>t.dispatchEvent(r))}function q(t){const r=a.useRef(t);return a.useEffect(()=>{r.current=t}),a.useMemo(()=>(...e)=>{var n;return(n=r.current)==null?void 0:n.call(r,...e)},[])}function Ft(t,r=globalThis==null?void 0:globalThis.document){const e=q(t);a.useEffect(()=>{const n=s=>{s.key==="Escape"&&e(s)};return r.addEventListener("keydown",n,{capture:!0}),()=>r.removeEventListener("keydown",n,{capture:!0})},[e,r])}var Lt="DismissableLayer",ce="dismissableLayer.update",Ot="dismissableLayer.pointerDownOutside",$t="dismissableLayer.focusOutside",ye,_e=a.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Se=a.forwardRef((t,r)=>{const{disableOutsidePointerEvents:e=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:d,onDismiss:u,...f}=t,c=a.useContext(_e),[p,b]=a.useState(null),w=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,P]=a.useState({}),j=H(r,E=>b(E)),h=Array.from(c.layers),[m]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),g=h.indexOf(m),x=p?h.indexOf(p):-1,N=c.layersWithOutsidePointerEventsDisabled.size>0,T=x>=g,C=Ut(E=>{const A=E.target,M=[...c.branches].some(F=>F.contains(A));!T||M||(s==null||s(E),d==null||d(E),E.defaultPrevented||u==null||u())},w),_=Bt(E=>{const A=E.target;[...c.branches].some(F=>F.contains(A))||(i==null||i(E),d==null||d(E),E.defaultPrevented||u==null||u())},w);return Ft(E=>{x===c.layers.size-1&&(n==null||n(E),!E.defaultPrevented&&u&&(E.preventDefault(),u()))},w),a.useEffect(()=>{if(p)return e&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(ye=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(p)),c.layers.add(p),we(),()=>{e&&c.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=ye)}},[p,w,e,c]),a.useEffect(()=>()=>{p&&(c.layers.delete(p),c.layersWithOutsidePointerEventsDisabled.delete(p),we())},[p,c]),a.useEffect(()=>{const E=()=>P({});return document.addEventListener(ce,E),()=>document.removeEventListener(ce,E)},[]),o.jsx(O.div,{...f,ref:j,style:{pointerEvents:N?T?"auto":"none":void 0,...t.style},onFocusCapture:k(t.onFocusCapture,_.onFocusCapture),onBlurCapture:k(t.onBlurCapture,_.onBlurCapture),onPointerDownCapture:k(t.onPointerDownCapture,C.onPointerDownCapture)})});Se.displayName=Lt;var Vt="DismissableLayerBranch",Re=a.forwardRef((t,r)=>{const e=a.useContext(_e),n=a.useRef(null),s=H(r,n);return a.useEffect(()=>{const i=n.current;if(i)return e.branches.add(i),()=>{e.branches.delete(i)}},[e.branches]),o.jsx(O.div,{...t,ref:s})});Re.displayName=Vt;function Ut(t,r=globalThis==null?void 0:globalThis.document){const e=q(t),n=a.useRef(!1),s=a.useRef(()=>{});return a.useEffect(()=>{const i=u=>{if(u.target&&!n.current){let f=function(){De(Ot,e,c,{discrete:!0})};const c={originalEvent:u};u.pointerType==="touch"?(r.removeEventListener("click",s.current),s.current=f,r.addEventListener("click",s.current,{once:!0})):f()}else r.removeEventListener("click",s.current);n.current=!1},d=window.setTimeout(()=>{r.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(d),r.removeEventListener("pointerdown",i),r.removeEventListener("click",s.current)}},[r,e]),{onPointerDownCapture:()=>n.current=!0}}function Bt(t,r=globalThis==null?void 0:globalThis.document){const e=q(t),n=a.useRef(!1);return a.useEffect(()=>{const s=i=>{i.target&&!n.current&&De($t,e,{originalEvent:i},{discrete:!1})};return r.addEventListener("focusin",s),()=>r.removeEventListener("focusin",s)},[r,e]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function we(){const t=new CustomEvent(ce);document.dispatchEvent(t)}function De(t,r,e,{discrete:n}){const s=e.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:e});r&&s.addEventListener(t,r,{once:!0}),n?je(s,i):s.dispatchEvent(i)}var Wt=Se,zt=Re,J=globalThis!=null&&globalThis.document?a.useLayoutEffect:()=>{},Kt="Portal",Ae=a.forwardRef((t,r)=>{var u;const{container:e,...n}=t,[s,i]=a.useState(!1);J(()=>i(!0),[]);const d=e||s&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return d?mt.createPortal(o.jsx(O.div,{...n,ref:r}),d):null});Ae.displayName=Kt;function Ht(t,r){return a.useReducer((e,n)=>r[e][n]??e,t)}var Ie=t=>{const{present:r,children:e}=t,n=qt(r),s=typeof e=="function"?e({present:n.isPresent}):a.Children.only(e),i=H(n.ref,Xt(s));return typeof e=="function"||n.isPresent?a.cloneElement(s,{ref:i}):null};Ie.displayName="Presence";function qt(t){const[r,e]=a.useState(),n=a.useRef(null),s=a.useRef(t),i=a.useRef("none"),d=t?"mounted":"unmounted",[u,f]=Ht(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return a.useEffect(()=>{const c=ee(n.current);i.current=u==="mounted"?c:"none"},[u]),J(()=>{const c=n.current,p=s.current;if(p!==t){const w=i.current,P=ee(c);t?f("MOUNT"):P==="none"||(c==null?void 0:c.display)==="none"?f("UNMOUNT"):f(p&&w!==P?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,f]),J(()=>{if(r){let c;const p=r.ownerDocument.defaultView??window,b=P=>{const h=ee(n.current).includes(P.animationName);if(P.target===r&&h&&(f("ANIMATION_END"),!s.current)){const m=r.style.animationFillMode;r.style.animationFillMode="forwards",c=p.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=m)})}},w=P=>{P.target===r&&(i.current=ee(n.current))};return r.addEventListener("animationstart",w),r.addEventListener("animationcancel",b),r.addEventListener("animationend",b),()=>{p.clearTimeout(c),r.removeEventListener("animationstart",w),r.removeEventListener("animationcancel",b),r.removeEventListener("animationend",b)}}else f("ANIMATION_END")},[r,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:a.useCallback(c=>{n.current=c?getComputedStyle(c):null,e(c)},[])}}function ee(t){return(t==null?void 0:t.animationName)||"none"}function Xt(t){var n,s;let r=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,e=r&&"isReactWarning"in r&&r.isReactWarning;return e?t.ref:(r=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,e=r&&"isReactWarning"in r&&r.isReactWarning,e?t.props.ref:t.props.ref||t.ref)}var Yt=tt[" useInsertionEffect ".trim().toString()]||J;function Gt({prop:t,defaultProp:r,onChange:e=()=>{},caller:n}){const[s,i,d]=Jt({defaultProp:r,onChange:e}),u=t!==void 0,f=u?t:s;{const p=a.useRef(t!==void 0);a.useEffect(()=>{const b=p.current;b!==u&&console.warn(`${n} is changing from ${b?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,n])}const c=a.useCallback(p=>{var b;if(u){const w=Zt(p)?p(t):p;w!==t&&((b=d.current)==null||b.call(d,w))}else i(p)},[u,t,i,d]);return[f,c]}function Jt({defaultProp:t,onChange:r}){const[e,n]=a.useState(t),s=a.useRef(e),i=a.useRef(r);return Yt(()=>{i.current=r},[r]),a.useEffect(()=>{var d;s.current!==e&&((d=i.current)==null||d.call(i,e),s.current=e)},[e,s]),[e,n,i]}function Zt(t){return typeof t=="function"}var Qt=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),er="VisuallyHidden",fe=a.forwardRef((t,r)=>o.jsx(O.span,{...t,ref:r,style:{...Qt,...t.style}}));fe.displayName=er;var pe="ToastProvider",[me,tr,rr]=kt("Toast"),[ke,Br]=Ce("Toast",[rr]),[or,re]=ke(pe),Me=t=>{const{__scopeToast:r,label:e="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:d}=t,[u,f]=a.useState(null),[c,p]=a.useState(0),b=a.useRef(!1),w=a.useRef(!1);return e.trim()||console.error(`Invalid prop \`label\` supplied to \`${pe}\`. Expected non-empty \`string\`.`),o.jsx(me.Provider,{scope:r,children:o.jsx(or,{scope:r,label:e,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:u,onViewportChange:f,onToastAdd:a.useCallback(()=>p(P=>P+1),[]),onToastRemove:a.useCallback(()=>p(P=>P-1),[]),isFocusedToastEscapeKeyDownRef:b,isClosePausedRef:w,children:d})})};Me.displayName=pe;var Fe="ToastViewport",nr=["F8"],le="toast.viewportPause",de="toast.viewportResume",Le=a.forwardRef((t,r)=>{const{__scopeToast:e,hotkey:n=nr,label:s="Notifications ({hotkey})",...i}=t,d=re(Fe,e),u=tr(e),f=a.useRef(null),c=a.useRef(null),p=a.useRef(null),b=a.useRef(null),w=H(r,b,d.onViewportChange),P=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=d.toastCount>0;a.useEffect(()=>{const m=g=>{var N;n.length!==0&&n.every(T=>g[T]||g.code===T)&&((N=b.current)==null||N.focus())};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[n]),a.useEffect(()=>{const m=f.current,g=b.current;if(j&&m&&g){const x=()=>{if(!d.isClosePausedRef.current){const _=new CustomEvent(le);g.dispatchEvent(_),d.isClosePausedRef.current=!0}},N=()=>{if(d.isClosePausedRef.current){const _=new CustomEvent(de);g.dispatchEvent(_),d.isClosePausedRef.current=!1}},T=_=>{!m.contains(_.relatedTarget)&&N()},C=()=>{m.contains(document.activeElement)||N()};return m.addEventListener("focusin",x),m.addEventListener("focusout",T),m.addEventListener("pointermove",x),m.addEventListener("pointerleave",C),window.addEventListener("blur",x),window.addEventListener("focus",N),()=>{m.removeEventListener("focusin",x),m.removeEventListener("focusout",T),m.removeEventListener("pointermove",x),m.removeEventListener("pointerleave",C),window.removeEventListener("blur",x),window.removeEventListener("focus",N)}}},[j,d.isClosePausedRef]);const h=a.useCallback(({tabbingDirection:m})=>{const x=u().map(N=>{const T=N.ref.current,C=[T,...xr(T)];return m==="forwards"?C:C.reverse()});return(m==="forwards"?x.reverse():x).flat()},[u]);return a.useEffect(()=>{const m=b.current;if(m){const g=x=>{var C,_,E;const N=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!N){const A=document.activeElement,M=x.shiftKey;if(x.target===m&&M){(C=c.current)==null||C.focus();return}const L=h({tabbingDirection:M?"backwards":"forwards"}),W=L.findIndex(y=>y===A);se(L.slice(W+1))?x.preventDefault():M?(_=c.current)==null||_.focus():(E=p.current)==null||E.focus()}};return m.addEventListener("keydown",g),()=>m.removeEventListener("keydown",g)}},[u,h]),o.jsxs(zt,{ref:f,role:"region","aria-label":s.replace("{hotkey}",P),tabIndex:-1,style:{pointerEvents:j?void 0:"none"},children:[j&&o.jsx(ue,{ref:c,onFocusFromOutsideViewport:()=>{const m=h({tabbingDirection:"forwards"});se(m)}}),o.jsx(me.Slot,{scope:e,children:o.jsx(O.ol,{tabIndex:-1,...i,ref:w})}),j&&o.jsx(ue,{ref:p,onFocusFromOutsideViewport:()=>{const m=h({tabbingDirection:"backwards"});se(m)}})]})});Le.displayName=Fe;var Oe="ToastFocusProxy",ue=a.forwardRef((t,r)=>{const{__scopeToast:e,onFocusFromOutsideViewport:n,...s}=t,i=re(Oe,e);return o.jsx(fe,{"aria-hidden":!0,tabIndex:0,...s,ref:r,style:{position:"fixed"},onFocus:d=>{var c;const u=d.relatedTarget;!((c=i.viewport)!=null&&c.contains(u))&&n()}})});ue.displayName=Oe;var Z="Toast",sr="toast.swipeStart",ar="toast.swipeMove",ir="toast.swipeCancel",cr="toast.swipeEnd",$e=a.forwardRef((t,r)=>{const{forceMount:e,open:n,defaultOpen:s,onOpenChange:i,...d}=t,[u,f]=Gt({prop:n,defaultProp:s??!0,onChange:i,caller:Z});return o.jsx(Ie,{present:e||u,children:o.jsx(ur,{open:u,...d,ref:r,onClose:()=>f(!1),onPause:q(t.onPause),onResume:q(t.onResume),onSwipeStart:k(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:k(t.onSwipeMove,c=>{const{x:p,y:b}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${b}px`)}),onSwipeCancel:k(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:k(t.onSwipeEnd,c=>{const{x:p,y:b}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${b}px`),f(!1)})})})});$e.displayName=Z;var[lr,dr]=ke(Z,{onClose(){}}),ur=a.forwardRef((t,r)=>{const{__scopeToast:e,type:n="foreground",duration:s,open:i,onClose:d,onEscapeKeyDown:u,onPause:f,onResume:c,onSwipeStart:p,onSwipeMove:b,onSwipeCancel:w,onSwipeEnd:P,...j}=t,h=re(Z,e),[m,g]=a.useState(null),x=H(r,y=>g(y)),N=a.useRef(null),T=a.useRef(null),C=s||h.duration,_=a.useRef(0),E=a.useRef(C),A=a.useRef(0),{onToastAdd:M,onToastRemove:F}=h,$=q(()=>{var I;(m==null?void 0:m.contains(document.activeElement))&&((I=h.viewport)==null||I.focus()),d()}),L=a.useCallback(y=>{!y||y===1/0||(window.clearTimeout(A.current),_.current=new Date().getTime(),A.current=window.setTimeout($,y))},[$]);a.useEffect(()=>{const y=h.viewport;if(y){const I=()=>{L(E.current),c==null||c()},D=()=>{const z=new Date().getTime()-_.current;E.current=E.current-z,window.clearTimeout(A.current),f==null||f()};return y.addEventListener(le,D),y.addEventListener(de,I),()=>{y.removeEventListener(le,D),y.removeEventListener(de,I)}}},[h.viewport,C,f,c,L]),a.useEffect(()=>{i&&!h.isClosePausedRef.current&&L(C)},[i,C,h.isClosePausedRef,L]),a.useEffect(()=>(M(),()=>F()),[M,F]);const W=a.useMemo(()=>m?He(m):null,[m]);return h.viewport?o.jsxs(o.Fragment,{children:[W&&o.jsx(fr,{__scopeToast:e,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:W}),o.jsx(lr,{scope:e,onClose:$,children:Te.createPortal(o.jsx(me.ItemSlot,{scope:e,children:o.jsx(Wt,{asChild:!0,onEscapeKeyDown:k(u,()=>{h.isFocusedToastEscapeKeyDownRef.current||$(),h.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(O.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":h.swipeDirection,...j,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:k(t.onKeyDown,y=>{y.key==="Escape"&&(u==null||u(y.nativeEvent),y.nativeEvent.defaultPrevented||(h.isFocusedToastEscapeKeyDownRef.current=!0,$()))}),onPointerDown:k(t.onPointerDown,y=>{y.button===0&&(N.current={x:y.clientX,y:y.clientY})}),onPointerMove:k(t.onPointerMove,y=>{if(!N.current)return;const I=y.clientX-N.current.x,D=y.clientY-N.current.y,z=!!T.current,l=["left","right"].includes(h.swipeDirection),v=["left","up"].includes(h.swipeDirection)?Math.min:Math.max,S=l?v(0,I):0,R=l?0:v(0,D),B=y.pointerType==="touch"?10:2,V={x:S,y:R},oe={originalEvent:y,delta:V};z?(T.current=V,te(ar,b,oe,{discrete:!1})):Ee(V,h.swipeDirection,B)?(T.current=V,te(sr,p,oe,{discrete:!1}),y.target.setPointerCapture(y.pointerId)):(Math.abs(I)>B||Math.abs(D)>B)&&(N.current=null)}),onPointerUp:k(t.onPointerUp,y=>{const I=T.current,D=y.target;if(D.hasPointerCapture(y.pointerId)&&D.releasePointerCapture(y.pointerId),T.current=null,N.current=null,I){const z=y.currentTarget,l={originalEvent:y,delta:I};Ee(I,h.swipeDirection,h.swipeThreshold)?te(cr,P,l,{discrete:!0}):te(ir,w,l,{discrete:!0}),z.addEventListener("click",v=>v.preventDefault(),{once:!0})}})})})}),h.viewport)})]}):null}),fr=t=>{const{__scopeToast:r,children:e,...n}=t,s=re(Z,r),[i,d]=a.useState(!1),[u,f]=a.useState(!1);return gr(()=>d(!0)),a.useEffect(()=>{const c=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(c)},[]),u?null:o.jsx(Ae,{asChild:!0,children:o.jsx(fe,{...n,children:i&&o.jsxs(o.Fragment,{children:[s.label," ",e]})})})},pr="ToastTitle",Ve=a.forwardRef((t,r)=>{const{__scopeToast:e,...n}=t;return o.jsx(O.div,{...n,ref:r})});Ve.displayName=pr;var mr="ToastDescription",Ue=a.forwardRef((t,r)=>{const{__scopeToast:e,...n}=t;return o.jsx(O.div,{...n,ref:r})});Ue.displayName=mr;var Be="ToastAction",We=a.forwardRef((t,r)=>{const{altText:e,...n}=t;return e.trim()?o.jsx(Ke,{altText:e,asChild:!0,children:o.jsx(ge,{...n,ref:r})}):(console.error(`Invalid prop \`altText\` supplied to \`${Be}\`. Expected non-empty \`string\`.`),null)});We.displayName=Be;var ze="ToastClose",ge=a.forwardRef((t,r)=>{const{__scopeToast:e,...n}=t,s=dr(ze,e);return o.jsx(Ke,{asChild:!0,children:o.jsx(O.button,{type:"button",...n,ref:r,onClick:k(t.onClick,s.onClose)})})});ge.displayName=ze;var Ke=a.forwardRef((t,r)=>{const{__scopeToast:e,altText:n,...s}=t;return o.jsx(O.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:r})});function He(t){const r=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&r.push(n.textContent),hr(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const d=n.dataset.radixToastAnnounceAlt;d&&r.push(d)}else r.push(...He(n))}}),r}function te(t,r,e,{discrete:n}){const s=e.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:e});r&&s.addEventListener(t,r,{once:!0}),n?je(s,i):s.dispatchEvent(i)}var Ee=(t,r,e=0)=>{const n=Math.abs(t.x),s=Math.abs(t.y),i=n>s;return r==="left"||r==="right"?i&&n>e:!i&&s>e};function gr(t=()=>{}){const r=q(t);J(()=>{let e=0,n=0;return e=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(r)),()=>{window.cancelAnimationFrame(e),window.cancelAnimationFrame(n)}},[r])}function hr(t){return t.nodeType===t.ELEMENT_NODE}function xr(t){const r=[],e=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;e.nextNode();)r.push(e.currentNode);return r}function se(t){const r=document.activeElement;return t.some(e=>e===r?!0:(e.focus(),document.activeElement!==r))}var vr=Me,qe=Le,Xe=$e,Ye=Ve,Ge=Ue,Je=We,Ze=ge;const Wr=vr,br=a.forwardRef(({className:t,...r},e)=>o.jsx(qe,{ref:e,className:X("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...r}));br.displayName=qe.displayName;const yr=Ne("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),wr=a.forwardRef(({className:t,variant:r,...e},n)=>o.jsx(Xe,{ref:n,className:X(yr({variant:r}),t),...e}));wr.displayName=Xe.displayName;const Er=a.forwardRef(({className:t,...r},e)=>o.jsx(Je,{ref:e,className:X("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...r}));Er.displayName=Je.displayName;const Nr=a.forwardRef(({className:t,...r},e)=>o.jsx(Ze,{ref:e,className:X("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...r,children:o.jsx(ae,{className:"h-4 w-4"})}));Nr.displayName=Ze.displayName;const Tr=a.forwardRef(({className:t,...r},e)=>o.jsx(Ye,{ref:e,className:X("text-sm font-semibold",t),...r}));Tr.displayName=Ye.displayName;const Pr=a.forwardRef(({className:t,...r},e)=>o.jsx(Ge,{ref:e,className:X("text-sm opacity-90",t),...r}));Pr.displayName=Ge.displayName;export{$r as B,kr as E,Mr as F,ve as I,Lr as P,Vr as S,Wr as T,Fr as a,Or as b,xt as c,Ur as u};
